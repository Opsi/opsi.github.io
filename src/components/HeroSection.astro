---
import profileImage from "../assets/profile.png";
---

<section
  class="relative h-screen w-screen bg-slate-700 flex flex-col items-center justify-center"
>
  <div class="container mx-auto px-4 max-w-3xl">
    <div class="flex flex-col items-start">
      <div class="flex items-center gap-2">
        <code
          id="typewriter"
          class="text-2xl text-left h-6 flex text-pink-400 items-center"
        >
        </code>
        <span id="cursor" class="inline-block w-1.5 h-6 animate-pulse bg-white"
        ></span>
      </div>
      <h1 class="text-6xl text-bold">Robin Wiersig</h1>
      <p class="">
        Fullstack Developer based in Berlin. Lorem ipsum dolor sit amet,
        consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore
        et dolore magna aliqua.
      </p>
    </div>
    <img
      class="m-4 neo-brutalist-shadow border-black border-2 rounded-lg max-w-96"
      src={profileImage.src}
      alt="Profile Picture"
    />
    <a href="/"> Contact me </a>
  </div>
</section>
<section class="h-40 bg-green-300"></section>

<script type="module">
  const START_BACKSPACE_DELAY = 1000;
  const TYPE_DELAY = 100;
  const NEXT_TEXT_DELAY = 2000;

  const texts = ["WEB DEVELOPER", "LINUX ENTHUSIAST"];
  const typewriter = document.getElementById("typewriter");
  let textIndex = 0;
  let charIndex = 0;
  let isBackspacing = false;
  function typeWrite() {
    if (isBackspacing && charIndex <= 1) {
      // rotate to the next text
      typewriter.innerHTML = "";
      isBackspacing = false;
      textIndex = (textIndex + 1) % texts.length;
      charIndex = 0;
      setTimeout(typeWrite, NEXT_TEXT_DELAY);
      return;
    }
    if (isBackspacing) {
      // just remove the last character
      charIndex--;
      typewriter.innerHTML = texts[textIndex].substring(0, charIndex);
      setTimeout(typeWrite, TYPE_DELAY);
      return;
    }
    const text = texts[textIndex];
    if (charIndex < text.length - 1) {
      // just add one character
      typewriter.innerHTML += text.charAt(charIndex);
      charIndex++;
      setTimeout(typeWrite, TYPE_DELAY);
      return;
    }
    if (charIndex === text.length - 1) {
      // add one character and start backspacing
      typewriter.innerHTML += text.charAt(charIndex);
      isBackspacing = true;
      setTimeout(typeWrite, START_BACKSPACE_DELAY);
      return;
    }
  }
  typeWrite();
</script>
